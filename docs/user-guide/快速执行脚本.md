
# 1 快速执行脚本

简介

快速执行脚本就是在服务树节点下，选择要操作的机器，在机器上执行之前保存的或者现写的脚本。

## 1.1 前置条件

要使用快速执行脚本功能需要两个条件： 1.机器列表;2.AGENT安装

· 机器列表的两个来源

A)来自服务树资源管理。

B)来自机器管理。

· AGENT安装涉及到AGENT安装和管理。

## 1.2  功能介绍

页面路径:【快速执行】->【脚本执行】

页面介绍

![](/attachments/20250706231920_wps64.jpg)

脚本名称

默认生成，也可以进行修改，在执行历史中可以通过名称查找。

脚本来源

· 手工录入，在当前页面进行编辑。

· 脚本克隆，使用脚本管理中的脚本，在这个基础上可以进行再编辑。

· 本地脚本, 和克隆脚本类似，区别是它是一个引用，不可以进行再编辑。

脚本内容

脚本类型决定了怎么去执行该脚本，对应的执行方式如下：

· shell： /bin/bash scripst_path

· python: /usr/bin/python scripts_path

· perl: /usr/bin/perl scripts_path

· php: /usr/bin/php scripts_path

· 自动识别: ./scripts_path

· 内建：内建插件

执行账户

远程机器上的用户，旁边的添加按钮可以添加用户。也可以到账户管理中进行管理。

添加用户并不会在远程机器上进行用户创建，只是一个本地的管理。

在使用部分内建插件时，账号部分会变成票据，按照前端提示选择即可。

目标机器

![](/attachments/20250706231920_wps65.jpg)

目标机器的两种类型：

· 直接勾选对应的IP。

· 选择机器分组中的机器组。

脚本参数

正常的脚本参数，如脚本参数为: abc 123 ，如果是shell脚本，可以通过$1 获取abc，通过$2获取123。

超时时间

超时时间，单位为秒。超时后如果运行未结束，会失败退出，对应的脚本会收到kill TERM信号。

其他开关

这里的“生产环境”，“生效动作”，“分批”三个开关可以先忽略，在流水线中在展开讲解，此处先都默认选择“总是执行”

## 1.3 执行

![](/attachments/20250706231920_wps66.jpg)

## 1.4 查看执行历史

页面路径: 【执行历史】->【作业任务】

![](/attachments/20250706231920_wps67.jpg)